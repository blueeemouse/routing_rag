# NaiveRAG索引构建解耦改进计划

## 问题描述

当前NaiveRAG的execute方法在每次查询时都会重新构建索引，导致：

1. 性能低下，每次查询都要重新构建索引
2. 逻辑混乱，索引构建和查询执行混在一起
3. 资源浪费，重复执行相同的索引构建操作

## 改进方案

### 第一步：扩展RAGInterface接口

- 在RAGInterface中添加`build_index`方法定义
- 确保GraphRAG已实现该方法（它应该已有）

### 第二步：重构NaiveRAG实现

- 实现`build_index`方法，将原来的索引构建逻辑移到此方法
- 修改`execute`方法，使其使用已构建的索引
- 添加索引状态检查机制

### 第三步：测试验证

- 确保新架构下的NaiveRAG功能正常
- 验证性能改进效果

## 预期收益

1. 显著提升查询性能
2. 逻辑更清晰，职责更分明
3. 更符合RAG系统最佳实践s
